# App runtime
NODE_ENV=development
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=replace-with-a-long-random-string
GOOGLE_CLIENT_ID=replace-with-google-oauth-client-id
GOOGLE_CLIENT_SECRET=replace-with-google-oauth-client-secret
ALLOWED_GOOGLE_DOMAIN=zodl.com

# Optional local-network auth bypass (disabled by default)
LOCAL_BYPASS_ENABLED=false
LOCAL_BYPASS_KILL_SWITCH=false
# DDNS hostname used to discover your current home egress IP(s)
# Example: chat.paulbrigner.com
LOCAL_BYPASS_DDNS_HOST=
# Optional static comma-separated allowlist (IPv4/IPv6)
LOCAL_BYPASS_ALLOWLIST_IPS=
# How often to refresh DDNS resolution for LOCAL_BYPASS_DDNS_HOST
LOCAL_BYPASS_REFRESH_SECONDS=300
# Client-IP extraction strategy:
# strict: require trusted proxy hops in X-Forwarded-For (recommended)
# rightmost: trust the right-most X-Forwarded-For hop
LOCAL_BYPASS_IP_SOURCE_STRATEGY=strict
# Trusted proxy hop IPs for strict mode (comma-separated)
LOCAL_BYPASS_TRUSTED_PROXY_IPS=
# Optional explicit trusted client-IP header (overrides X-Forwarded-For parsing)
# Example (CloudFront): cloudfront-viewer-address
LOCAL_BYPASS_CLIENT_IP_HEADER=
# Displayed identity in UI when bypass is active
LOCAL_BYPASS_DISPLAY_EMAIL=local-network@zodldashboard.local
# Log allow/deny decisions for bypass checks
LOCAL_BYPASS_LOG_DECISIONS=true

# API runtime
XMONITOR_API_SERVICE_NAME=xmonitor-api
XMONITOR_API_VERSION=v1
XMONITOR_DEFAULT_FEED_LIMIT=50
XMONITOR_MAX_FEED_LIMIT=200

# Read/proxy API routing (optional)
# If set, UI reads from this backend instead of direct DB access.
# Example: https://www.zodldashboard.com/api/v1
XMONITOR_READ_API_BASE_URL=
# If set, local /api/v1 routes proxy to this backend.
# Example: https://abc123.execute-api.us-east-1.amazonaws.com/prod/v1
XMONITOR_BACKEND_API_BASE_URL=
# Request timeout for proxy mode (milliseconds)
XMONITOR_API_PROXY_TIMEOUT_MS=15000

# Ingest auth (server-side secret expected by /ingest routes)
XMONITOR_INGEST_SHARED_SECRET=replace-with-a-long-random-shared-secret
# Optional compatibility alias for ingest auth (fallback if secret above is unset)
XMONITOR_API_KEY=

# Semantic retrieval (Stage One)
XMONITOR_SEMANTIC_ENABLED=true
XMONITOR_SEMANTIC_DEFAULT_LIMIT=25
XMONITOR_SEMANTIC_MAX_LIMIT=100
XMONITOR_SEMANTIC_MIN_SCORE=0
XMONITOR_EMBEDDING_BASE_URL=https://api.venice.ai/api/v1
XMONITOR_EMBEDDING_MODEL=text-embedding-bge-m3
XMONITOR_EMBEDDING_DIMS=1024
XMONITOR_EMBEDDING_TIMEOUT_MS=10000
# Preferred secret name for embedding calls (server-side only)
XMONITOR_EMBEDDING_API_KEY=
# Optional fallback used by current runtime if XMONITOR_EMBEDDING_API_KEY is unset
VENICE_API_KEY=

# Compose (Stage 2 retrieval + answer)
XMONITOR_COMPOSE_ENABLED=true
XMONITOR_COMPOSE_DRAFTS_ENABLED=true
XMONITOR_COMPOSE_DEFAULT_RETRIEVAL_LIMIT=40
XMONITOR_COMPOSE_MAX_RETRIEVAL_LIMIT=100
XMONITOR_COMPOSE_DEFAULT_CONTEXT_LIMIT=12
XMONITOR_COMPOSE_MAX_CONTEXT_LIMIT=24
XMONITOR_COMPOSE_BASE_URL=https://api.venice.ai/api/v1
XMONITOR_COMPOSE_MODEL=llama-3.2-3b
XMONITOR_COMPOSE_TIMEOUT_MS=45000
XMONITOR_COMPOSE_MAX_OUTPUT_TOKENS=900
XMONITOR_COMPOSE_MAX_DRAFT_CHARS=1200
XMONITOR_COMPOSE_MAX_DRAFT_CHARS_X_POST=280
XMONITOR_COMPOSE_MAX_CITATIONS=10
XMONITOR_COMPOSE_MAX_REQUESTS_PER_MINUTE=30
XMONITOR_COMPOSE_MAX_CONCURRENCY=4
XMONITOR_COMPOSE_MAX_ESTIMATED_COST_USD=0.05
XMONITOR_COMPOSE_INPUT_COST_PER_1M_TOKENS=0.15
XMONITOR_COMPOSE_OUTPUT_COST_PER_1M_TOKENS=0.6
XMONITOR_COMPOSE_USE_JSON_MODE=true
XMONITOR_COMPOSE_DISABLE_THINKING=true
XMONITOR_COMPOSE_STRIP_THINKING_RESPONSE=true
# Preferred secret name for compose calls (server-side only)
XMONITOR_COMPOSE_API_KEY=

# PostgreSQL connection (use DATABASE_URL or individual PG* vars)
# DATABASE_URL=postgres://user:password@localhost:5432/xmonitor
PGHOST=localhost
PGPORT=5432
PGDATABASE=xmonitor
PGUSER=postgres
PGPASSWORD=postgres
PGSSLMODE=disable
